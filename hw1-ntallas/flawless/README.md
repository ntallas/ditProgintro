Η συνάρτηση main δεχεται τα όρια ενός εύρους. Έπειτα παίρνει την τετραγωνική τους ρίζα και για κάθε αριθμό μεταξύ αυτών, καλλεί την συνάρτηση flawless χρησιμοποιόντας τον αριθμό σαν ρίζα και το τετράγωνο αυτού σαν αριθμό.
Έτσι, η flawless δέχεται όλα τα τέλεια τετράγωνα και τις ρίζες τους σαν ορίσματα.

Η flawless σπάει τον αριθμό από τα αριστερά προς τα δεξιά ανά ένα ψηφλιο (1) εώς το μήκος του αριθμού και ελέγχει εαν η πρόσθεση των δυο αριθμών που παράχθηκαν ισούται με την ρίζα. Αν όχι αφαιρεί τον δεύετρο αριθμό (τον αριστερά αριθμό num2) από την ρίζα και καλεί τον εαυτό της χρησιμοποιώντας τσαν αριθμό τον δεξιά(num1) και σαν ρίζα την νέα. Όταν ο κάθε αριστεράαριθμός έχει σπάσει πλήρως, πάει πίσω στην κατάσταση (1) και εφόσον υπάρχουν εναπομείναντα ψηφία, συνεχίζει. Παρατίθεται σχηματική απεικόνηση. 
